
std :: import std;

main :: func () -> s64
{
    std.println("opassign test");

    test_opassign();
    test_pre_inc();

    return 0;
}

test_pre_inc :: func ()
{
    x := 0;
    y := x++;
    
    std.println("x := 0;");
    std.println("y := x++;");

    std.print("x = ");
    std.print_num(x);
    std.print("\ny = ");
    std.print_num(y);

    std.print("\n");

    x = y--; 
    std.println("x = y--");
    std.print("x = ");
    std.print_num(x);
    std.print("\ny = ");
    std.print_num(y);

    std.print("\n");

    return;
}

test_opassign :: func ()
{
    std.println("\nx := 0;");
    x := 0;
    std.print_num(x);

    std.println("\nx += 5;");
    x += 5;
    std.print_num(x);

    std.println("\nx -= 2;");
    x -= 2;
    std.print_num(x);

    std.println("\nx *= 4;");
    x *= 4;
    std.print_num(x);

    std.println("\nx /= 3;");
    x /= 3;
    std.print_num(x);

    std.println("\nx %= 3;");
    x %= 3;
    std.print_num(x);

    std.print("\n\n");

    return;
}


#naked #noreturn _start :: func ()
{
    posix_call_main_and_exit();
}

#noreturn posix_call_main_and_exit :: func ()
{
    exit_code := main();
    @exit(exit_code);
}
