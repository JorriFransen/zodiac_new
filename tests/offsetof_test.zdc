
std :: import std;

structs :: import structs;
using structs;

non_struct_mem : s64;

Hello :: struct
{
    struct_mem : s64;
}

main :: func() -> s64
{
    std.print("offsetof test\n");

    std.print("\n@offsetof(x, Vec3) = ");
    std.print_num(@offsetof(x, Vec3));
    std.print("\n@offsetof(y, Vec3) = ");
    std.print_num(@offsetof(y, Vec3));
    std.print("\n@offsetof(z, Vec3) = ");
    std.print_num(@offsetof(z, Vec3));

    t : Hello;
    t.struct_mem = 4;
    t.non_struct_mem = 4;


    std.print("\n");
    return 0;
}

#naked #noreturn _start :: func ()
{
    posix_call_main_and_exit();
}

#noreturn posix_call_main_and_exit :: func ()
{
    exit_code := main();
    @exit(exit_code);
}

