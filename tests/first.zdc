
#naked #noreturn _start :: func ()
{
    posix_call_main_and_exit();
}

#noreturn posix_call_main_and_exit :: func ()
{
    exit_code := main();
    @exit(exit_code + 1);
}

main :: func () -> s64
{
    result := echo(add(40, 1));
    result = result + 1;
    return result;
}

add :: func (a: s64, b: s64) -> s64
{
    return a + b;
}

echo :: func (val: s64) -> s64
{
    result := val;
    return result;
}
